@using Microsoft.AspNetCore.Identity;
@using Microsoft.AspNetCore.Authentication.Cookies;
@model ModelAnimales

@{
    ViewData["Title"] = "Nuevo Animal";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var errorMessage = TempData["ErrorMessage"] as string;
    var errorDetails = TempData["ErrorDetails"] as string;
    var modelErrors = TempData["ModelErrors"] as List<string>;
}

@if (!string.IsNullOrEmpty(errorMessage))
{
    <div class="alert alert-danger" role="alert">
        <h4 class="alert-heading">Error!</h4>
        <p>@errorMessage</p>
        <hr />
        @if (!string.IsNullOrEmpty(errorDetails))
        {
            <p class="mb-0">@errorDetails</p>
        }
        <ul>
            @if (modelErrors != null)
            {
                @foreach (var error in modelErrors)
                {
                    <li>@error</li>
                }
            }
        </ul>
    </div>
}

<div class="card">
    <form asp-action="ingresarMascota" asp-controller="Animales" method="post" enctype="multipart/form-data">
        <div class="row g-3 align-items-center p-3 fw-bold">

            <div class="col-md-2">
                <label for="especieId" class="form-label">Especie</label>
                <input asp-for="EspecieId" type="number" class="form-control" id="especieId" value="1" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-2">
                <label for="razaId" class="form-label">Raza</label>
                <input asp-for="RazaId" type="number" class="form-control" id="razaId" value="1" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-3">
                <label for="animalNombre" class="form-label">Nombre del Animal</label>
                <input asp-for="AnimalNombre" type="text" class="form-control" id="animalNombre" maxlength="30" value="Nombre por defecto" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-3">
                <label for="image" class="form-label">FOTO</label>
                <input asp-for="imagen" type="file" class="form-control" name="imagen" required>
            </div>
           
            <div class="col-md-2">
                <label for="animalSexo" class="form-label">Sexo</label>
                <select asp-for="AnimalSexo" class="form-control" id="animalSexo" required>
                    <option value="" disabled>Seleccione el sexo del animal</option>
                    <option value="M" selected>Macho</option> <!-- Valor por defecto -->
                    <option value="F">Hembra</option>
                </select>
            </div>

            <div class="col-md-1">
                <label for="animalEdad" class="form-label">Edad</label>
                <input asp-for="AnimalEdad" type="number" class="form-control" id="animalEdad" value="2" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-2">
                <label for="animalFechaNacimiento" class="form-label">Fecha de Nacimiento</label>
                <input asp-for="AnimalFechaNacimiento" type="date" class="form-control" id="animalFechaNacimiento" value="@DateTime.Now" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-1">
                <label for="animalPeso" class="form-label">Peso</label>
                <input asp-for="AnimalPeso" type="number" class="form-control" id="animalPeso" value="10.000" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-2">
                <label for="animalCastrado" class="form-label">¿Animal Castrado?</label>
                <select asp-for="AnimalCastrado" class="form-select" id="animalCastrado" required>
                    <option value="" disabled>Seleccione una opción</option>
                    <option value="1" selected>Sí</option> <!-- Valor por defecto -->
                    <option value="0">No</option>
                </select>
            </div>

            <div class="col-md-2">
                <label for="animalEstado" class="form-label">Estado</label>
                <input asp-for="AnimalEstado" type="number" class="form-control" id="animalEstado" value="1" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-2">
                <label for="documentoId" class="form-label">Tipo Documento</label>
                <input asp-for="DocumentoID" type="number" class="form-control" id="documentoId" value="1" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-2">
                <label for="animalDocumento" class="form-label">Nro Documento</label>
                <input asp-for="AnimalDocumento" type="number" class="form-control" id="animalDocumento" maxlength="20" value="1234567890" required> <!-- Valor por defecto -->
            </div>

            <div class="col-md-12">
                <label for="animalDescripcion" class="form-label">Descripción</label>
                <textarea asp-for="AnimalDescripcion" class="form-control" id="animalDescripcion" rows="3">Descripción por defecto</textarea> <!-- Valor por defecto -->
            </div>

            <div class="col-md-6">
                <button type="submit" class="btn btn-primary mb-4 fw-bold">Registrar</button>
            </div>
        </div>
    </form>
</div>
