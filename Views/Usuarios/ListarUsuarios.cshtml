@model List<ModelUsuarios>

@{
    ViewData["Title"] = "ListarUsuarios";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>ListarUsuarios</h1>

<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead>
            <tr>            
                <th scope="col">USER</th>
                <th scope="col">NOMBRE</th>
                <th scope="col">APELLIDO</th>
                <th>Accion</th>
            </tr>
        </thead>
        <tbody class="table-primary">
            @foreach (var item in Model.Where(u => u.UsuarioActivo == 1))
            {
                <tr>
                    <th scope="row">@item.UsuarioUserName</th>
                    <td>@item.UsuarioNombre</td>
                    <td>@item.UsuarioApellido</td>

                    <td>
                        <form asp-controller="Usuarios" asp-action="TraerUsuario">
                            <input type="hidden" name="id" value="@item.UsuarioID" />
                            <button type="submit" class="btn btn-success">
                                <span class="material-symbols-outlined">visibility</span>
                            </button>
                        </form>
                    </td>

                    <td>
                        <form asp-controller="Usuarios" asp-action="EditarUsuarioView">
                            <input type="hidden" name="id" value="@item.UsuarioID" />
                            <button type="submit" class="btn btn-success">
                                <span class="material-symbols-outlined">edit</span>
                            </button>
                        </form>
                    </td>

                    <td>
                        <form asp-controller="Usuarios" asp-action="desactivarUser">
                            <input type="hidden" name="id" value="@item.UsuarioID" />
                            <input type="hidden" name="id" value="@item.UserBaja" />
                            <button type="submit" class="btn btn-danger">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </form>
                    </td>
                </tr>
            }

            @if (TempData["Mensaje"] != null)
            {
                <script>
                    alert('@TempData["Mensaje"]');
                </script>
            }
        </tbody>

</table>
</div>